# Capítulo 16: Programação Funcional

Uso de map, filter, reduce.

## Exemplo 1: Map

```lua
function map(tabela, fn)
    local novo = {}
    for i, v in ipairs(tabela) do
        novo[i] = fn(v)
    end
    return novo
end

local lista = {1, 2, 3, 4}
local dobrados = map(lista, function(x) return x * 2 end)

for _, v in ipairs(dobrados) do print(v) end
-- 2, 4, 6, 8
```

## Exemplo 2: Filter

```lua
function filter(tabela, func)
    local resultado = {}
    for i, v in ipairs(tabela) do
        if func(v) then
            table.insert(resultado, v)
        end
    end
    return resultado
end

local numeros = {1, 2, 3, 4, 5, 6}
local pares = filter(numeros, function(x) return x % 2 == 0 end)

for _, v in ipairs(pares) do
  print(v)
end
-- 2, 4, 6
```

## Exemplo 3: Reduce

```lua
local numeros = {1, 2, 3, 4, 5, 6}

function reduce(tabela, func, acumulador)
    for i, v in ipairs(tabela) do
        acumulador = func(acumulador, v)
    end
    return acumulador
end

local soma = reduce(numeros, function(acc, x) return acc + x end, 0)
print("Soma:", soma)
-- Soma: 21
```
