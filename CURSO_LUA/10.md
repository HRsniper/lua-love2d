# Capítulo 10: Tratamento de Erros e Exceções

Lua não tem um mecanismo de "exceções" como em Python ou Java. Em vez disso,`error()`: Gerando erros, função `pcall` (protected call) e `xpcall` para capturar erros e tratá-los de forma controlada.

## Exemplo 1: pcall

```lua
-- Função que pode gerar um erro
local function dividir(a, b)
    if b == 0 then
        error("Divisão por zero não permitida!") -- Gera um erro explícito
    end

    return a / b
end

-- Usando pcall para chamar a função de forma segura
local sucesso, resultado = pcall(dividir, 10, 2) -- Chamada com parâmetros
if sucesso then
    print("Divisão bem-sucedida:", resultado) -- Saída: Divisão bem-sucedida: 5.0
else
    print("Erro:", resultado) -- 'resultado' conterá a mensagem de erro se pcall falhar
end

local sucesso2, resultado2 = pcall(dividir, 10, 0) -- Chamada que gerará erro
if sucesso2 then
    print("Divisão bem-sucedida:", resultado2)
else
    print("Erro:", resultado2) -- Saída: Erro: Divisão por zero não permitida!
end
```

## Exemplo 2: xpcall() para Manipular Erro

```lua
local function meu_manipulador(err)
    print(">>> Um erro inesperado ocorreu! Mensagem:", err)
    -- Aqui você poderia logar o erro, notificar um admin, etc.
    return "Algo deu errado, mas continuei." -- Retorna um valor alternativo
end

local function funcao_que_falha()
    print("Tentando executar algo...")
    error("Erro simulado!")
end

local _sucesso, resultado = xpcall(funcao_que_falha, meu_manipulador)
print("Resultado de xpcall: " .. resultado)
-- Tentando executar algo...
-- >>> Um erro inesperado ocorreu! Mensagem: Erro simulado!
-- Resultado de xpcall: Algo deu errado, mas continuei.
```
